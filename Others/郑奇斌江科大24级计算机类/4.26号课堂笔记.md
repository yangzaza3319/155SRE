# 郑奇斌

## 在python中如何从代码中区分列表元组字典集合

### **1. 通过字面量语法区分**

| **数据结构** | **特征语法**                         | **示例**                        |
| ------------ | ------------------------------------ | ------------------------------- |
| **列表**     | 方括号 `[]`，元素用逗号分隔，可重复  | `[1, 2, 3]`                     |
| **元组**     | 圆括号 `()` 或无括号，元素用逗号分隔 | `(1, 2, 3)` 或 `1, 2, 3`        |
| **字典**     | 花括号 `{}`，键值对用冒号分隔        | `{'a': 1, 'b': 2}`              |
| **集合**     | 花括号 `{}` 或 `set()`，元素唯一     | `{1, 2, 3}` 或 `set([1, 2, 3])` |

### **2. 关键区分点**

#### **① 列表（`list`）**

- **语法**：用 **方括号 `[]`** 定义，元素可以是任意类型，允许重复。

- **特点**：可变、有序。

  ```python
  my_list = [1, "apple", True]  # 方括号 + 逗号分隔
  ```

#### **② 元组（`tuple`）**

- **语法**：用 **圆括号 `()`** 或 **无括号**，元素用逗号分隔。

- **特点**：不可变、有序。

  ```python
  my_tuple = (1, 2, 3)       # 圆括号 + 逗号分隔
  my_tuple = 1, 2, 3         # 无括号（更常见）
  single_element = (42,)     # 单元素元组必须加逗号
  ```

#### **③ 字典（`dict`）**

- **语法**：用 **花括号 `{}`**，内部是 **键值对（key: value）**，键必须唯一。

- **特点**：可变、无序（3.7+ 版本后保持插入顺序）。

  ```python
  my_dict = {"name": "Alice", "age": 30}  # 花括号 + 键值对
  ```

#### **④ 集合（`set`）**

- **语法**：用 **花括号 `{}`**（元素无冒号）或 **`set()`** 函数，元素唯一。

- **特点**：可变、无序、元素必须可哈希（不可变类型）。

  ```python
  my_set = {1, 2, 3}         # 花括号 + 无冒号
  my_set = set([1, 2, 3])    # set() 函数 + 列表/元组
  empty_set = set()          # 空集合只能用 set()，{} 会创建空字典
  ```

### **3. 特殊情况处理**

#### **① 空数据结构**

- **空列表**：`[]`
- **空元组**：`()`
- **空字典**：`{}`
- **空集合**：`set()`（不能用 `{}`，因为 `{}` 表示空字典）

#### **② 单元素元组**

必须加逗号，否则会被误认为普通括号表达式：

```python
single = (42)    # 这是整数 42（括号仅用于分组）
single = (42,)   # 这是单元素元组
single = 42,     # 等价写法
```

#### **③ 字典和集合的混淆**

- **字典**：花括号内是 **键值对（key: value）**。
- **集合**：花括号内是 **单个元素（无冒号）**。

```python
my_dict = {"a": 1}   # 字典：键值对
my_set = {"a"}       # 集合：单个元素
```



## 列表（list）这一数据结构，提炼出的列表方法及相关操作如下：



1. ### 元素添加方法

   - `insert(index, element)`：在列表指定索引 `index` 处插入元素 `element`。

   - `append(element)`：在列表末尾添加一个元素 `element`。

   - `extend(iterable)`：将可迭代对象（如列表）中的元素逐个添加到列表末尾。

   - ```python
     # 1. 按照索引的位置去增加
     fruits.insert(1, "kiwi")
     
     # 2. 在最末尾添加
     fruits.append("orange")
     
     # 3. 用迭代的方式去添加
     fruits.extend(['a','b','c'])        
     ```

2. 元素删除方法

   - `remove(element)`：删除列表中首个值为 `element` 的元素，若元素不存在会报错。

   - `pop(index)`：删除并返回列表中指定索引 `index` 处的元素，若不指定索引，默认删除并返回最后一个元素。

   - `del 列表名[start:stop]`：根据切片范围 `start` 到 `stop`（左闭右开）删除列表中的元素，`del` 是 Python 的关键字，不是列表特有的方法，但可用于删除列表的部分元素或整个列表 。

   - `clear()`：清空列表，使列表变为空列表。

   - ```python
     # 1. 删除制定的具体元素
     fruits.remove("cherry")
     
     # 2. 按照索引位置去删除
     fruits.pop()        # 默认是删除最后一个，可以加上索引。并且有返回值，返回值为删除的元素
     fruits.pop(1)
     
     # 3. 使用切片范围删除
     del fruits[1:3]        # 没有返回值
     
     # 4. 清空列表
     fruits.clear()
     
     # 5. 删除列表
     del fruits
     
     # clear是清空列表的内容，变成一个空列表，而del是删除列表本身，后续无法再次调用...
     ```

3. 元素修改操作

   - 通过索引修改：`列表名[index] = new_element`，将列表中指定索引 `index` 处的元素修改为 `new_element`。

   - 通过切片范围修改：`列表名[start:stop] = new_iterable`，用新的可迭代对象 `new_iterable` 替换列表中切片范围 `start` 到 `stop`（左闭右开）的元素。

   - ```python
      1. 按照索引修改某个元素的值
     fruits = ["apple", "banana", "cherry"]
     fruits[1] = "orange"
     print(fruits)
     
     # Output:
     ['apple', 'orange', 'cherry']
     
     # 2. 按照切片范围修改
     fruits[0:2] = ['kiwi','orange']
     print(fruits)
     ```

4. 元素查询方法

   - `index(element)`：返回列表中首个值为 `element` 的元素的索引，若元素不存在会报错。

   - `count(element)`：返回元素 `element` 在列表中出现的次数。

   - ```python
     # 1. index(element)：返回元素的索引
     fruits = ["apple", "banana", "cherry"]
     index_of_apple = fruits.index("apple")
     print(index_of_apple)
     
     # Output:
     0
     
     # 2. count(element)：返回元素出现的次数
     count_of_cherry = fruits.count("cherry")
     print(count_of_cherry)
     
     # Output:
     1
     ```

5. 切片操作

   - `列表名[start:stop]`：根据切片范围 `start` 到 `stop`（左闭右开）获取列表的子列表。

6.其他操作

```python
# 3. 对列表进行排序
li.sort()
print(li)

# 4. 将列表中的元素反向存放
li.reverse()
print (li)
```

##     文件的类型

1. **文本文件**：包含可读的字符（如 `.txt`、`.csv`）。一般使用 UTF-8 编码，可以使用文本编辑器查看。
2. **二进制文件**：包含非文本数据（如图像、音频、视频文件，后缀如 `.jpg`、`.png`、`.mp3`）。以原始字节格式存储。需要使用专用软件查看。

| `r`  | 以**只读**方式打开文件。文件的指针将会放在文件的开头，这是**默认模式**。如果文件不存在，抛出异常 |
| ---- | ------------------------------------------------------------ |
| `w`  | 以**只写**方式打开文件。如果文件存在会被覆盖。如果文件不存在，创建新文件 |
| `a`  | 以**追加**方式打开文件。如果该文件已存在，文件指针将会放在文件的结尾。如果文件不存在，创建新文件进行写入 |

注意覆盖和追加的区别！！！！！！

## **闭包的三个核心要素**

判断一个函数是否为闭包，只需检查以下三点：

- **存在嵌套函数**：一个函数定义在另一个函数内部。
- **内部函数引用外部变量**：内部函数使用了外部函数中定义的变量。
- **外部函数返回内部函数**：外部函数将内部函数作为返回值。

例子分析：

- **嵌套函数**：`inner` 定义在 `func` 内部。
- **引用外部变量**：`inner` 引用了 `func` 中的 `name` 变量。
- **返回内部函数**：`func` 返回了 `inner`。

```python
def func():
    name = '张三'  # 外部变量
    def inner():
        print(name)  # 引用外部变量
    return inner  # 返回内部函数

f = func()  # func() 执行后返回 inner 函数
f()         # 调用 inner 函数，输出: 张三
```
