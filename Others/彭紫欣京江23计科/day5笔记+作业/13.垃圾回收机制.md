## 引用计数器
每个对象在python中都有一个引用计数器，用于跟踪有多少个引用指向该对象，当没有引用指向对象时，系统自动收回它占用的内存。

**工作原理：**对象被创建时，分配内存并将其引用计数设置为1，当有新变量或其他对象引用它时，计数增加。

                     引用不在指向该对象时，计数减少。

由于存在循环引用的bug，引入标记清除

## **标记清除：**
又维护一个双向链表，专门存放有循环引用问题的对象，会不断扫描链表，发现循环引用，给计数器-1。

## 分代回收
为了提高第二个链表的扫描效率，将它分为0代，1代，2代

0代：里面存放新的变量，达到700个，扫描一次，正常对象放到1代计数器为0的对象，销毁

0代扫描10次，1代扫描1次，2代扫描1次





## 缓存机制
小对象内存管理：小于512字节的对象，从内存池中分配内存

大对象内存管理：大于512，向操作系统申请内存

### free_list
当对象的引用计数器为0时，本应回收，但python为了内部优化不会回收而是把对象加到free_list链表中当缓存。以后创建对象直接使用free_list。

```python
a = 10
print(id(a))
del a
b =10
print(id(b))
```

float/list/tuple/dict都是以free_list方式回收的，当free_list满了就销毁。

